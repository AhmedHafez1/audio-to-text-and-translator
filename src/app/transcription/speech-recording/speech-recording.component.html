<div class="buttons">
  <button
    mat-icon-button
    mat-flat-button
    color="primary"
    class="action-btn"
    #startRecordingBtn
    (click)="startRecording()"
    [disabled]="isRecording"
  >
    <mat-icon>mic</mat-icon>
  </button>
  <button
    mat-icon-button
    mat-flat-button
    color="warn"
    class="action-btn"
    #stopRecordingBtn
    (click)="stopRecording()"
    [disabled]="!isRecording"
  >
    <mat-icon>stop</mat-icon>
  </button>
</div>
<div class="waveform-wrapper">
  <div class="recording">
    <div class="timer" *ngIf="isRecording">
      {{ timer$ | async | timeFormat }}
    </div>
    <div class="recording-flag" *ngIf="isRecording">
      <mat-icon>mic</mat-icon>
      Recording
    </div>
  </div>
  <div #waveform [ngStyle]="{ opacity: isRecording ? 0 : 1 }"></div>
</div>
<div class="flex-center">
  <button
    mat-icon-button
    mat-flat-button
    color="accent"
    class="play-btn"
    #playRecordingBtn
    (click)="playWaveform()"
    *ngIf="recordedAudioBlob && !isRecording"
  >
    <mat-icon>play_arrow</mat-icon>
  </button>
</div>
